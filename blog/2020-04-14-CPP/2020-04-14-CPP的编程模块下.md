---
slug: C++的编程模块——函数（下）
title: C++的编程模块——函数（下）
authors: CheverJohn
tags: [C++]
---


## 7.2	函数参数和按值传参

C++中经常性的一种操作就是，案值传递参数，这意味着将数值传递给一个函数，然后后者还会返回一个值赋给一个新的变量。



在函数中被声明的变量是函数私有的，这是他自己凭本事声明的变量。在函数被调用时，计算机会为他们（指变量）申请内存。在函数结束的时候，计算机会释放掉内存，这样的变量我们称之为**局部变量**



### 7.2.1	多个参数

函数可以包含多个参数，例如写成这种形式：

```C++
function('R', 25);
```

上述函数调用将两个参数传递给函数function( )，

同样，在定义函数时，也在函数头中使用由逗号分割的参数声明列表

```C++
void function(char c, int n)
```

之前写的function中R传递给了c，25传递给了n



### 7.2.2	另外一个接受两个参数的函数

**注意了注意了，这边要讲一个比较有趣的东西了**



Problem：美国许多州都采用某种纸牌游戏的形式来发行彩票，让参与者从卡片中选择一定数目的选项，例如从51个数字中选取6个，随后彩票管理者将随机抽取6个数，如果参与者选择的数字与这6个完全相同，将赢得大约几百万美元的奖金，我们的函数将计算中奖的几率



首先，需要一个公式。假设必须要从51个数中选取6个数，而获奖的几率是1/R，则R的计算公式如下
$$
R =\frac  {51×50×49×48×47×46}{6×5×4×3×2×1}
$$
选择6个数时，分母为前6个整数的乘积或6的阶乘分子也是6个连续整数的乘积，从51开始依次递减一,推而广之，如果从numbers个数中选取picks个数，而分母是picks的阶乘，分子为numbers开始向前的picks个整数的乘积。可以用for循环进行计算：

```C++
long double result = 1.0
for (int n = numbers, p = picks; p > 0; n--, p--)
    result = result * n / p;
```

循环不是首先将所有的分子项相乘，而是首先将1.0与第1个分子项相乘，然后除以第1个分母项，然后下一轮循环，乘以第2个分子项并除以第2个分母项，这样得到的乘积和先进行乘法运算得到的一样，例如对于(10*9)/(2×1)和(10÷2)×(9÷1)，前者将计算90÷2得到45，或者将计算5×9得到49，这两种方法得到的结果相同，但前者的中间值90大于后者，因子越多，中间值的差别就越大，当数字非常大时，这种交替进行乘除运算的策略，可以防止中间结果超过最大的浮点数。





### 7.3	函数和数组



























