# APISIX与上游测试服务器

> 明天就是新春佳节了，已经鸽了两天的博客了，不能再继续下去咯！！！
> 然后祝大家新春快乐哈！
>
> 本次博客记录的是我使用Apache APISIX中的GraphQL特性时，遇到的新手级尴尬问题，淦！主要还是基础网络工具不会用。文章主要围绕两个点：一是curl命令工具的使用总结，二是OpenResty建立测试服务器的方法（以后还是要单独开张帖子，把OpenResty，也可以说是NGINX的奇淫巧技都梳理一遍）
>
> 好吧又得鸽一天，看春晚去咯！:)
>
> 春节过完咯，开始肝！

### 前言

正如引言中所讲的，本篇博文主要是为了记录我使用Apache APISIX的GraphQL特性的过程。其中获得了一些对Apache APISIX，亦或者说是OpenResty，亦或者说是NGINX的最新感悟。首先我先以一张图缕清我所要做的事情的逻辑吧。

![GraphQL流量在Apache_APISIX里的轨迹](http://cdn.mr8god.cn/img/GraphQL%E6%B5%81%E9%87%8F%E5%9C%A8Apache_APISIX%E9%87%8C%E7%9A%84%E8%BD%A8%E8%BF%B9.jpg)

当然上图这一层面还是太保守了，如果我们有多个 GraphQL Server 呢？其实 Apache APISIX 还具备根据搜索项的参数更精细化的匹配 GraphQL Server (多亏泽轩大佬跟我讲了)。那我们换一个场景。

根据三个参数更加精细化

```text
graphql_operation
graphql_name
graphql_root_fields
```

